<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>迷宫示例</title>
</head>
<body>
    <center>
        迷宫行数：<select id="rowselect" onChange="changerow(this)"></select>&nbsp;
        迷宫列数: <select id="colselect" onChange="changecol(this)"></select> &nbsp;
        入口行：<select id="startrow"></select>&nbsp;
        入口列：<select id="startcol"></select>&nbsp;
        出口行：<select id="endrow"></select>&nbsp;
        出口列：<select id="endcol"></select>&nbsp;
        道路宽: <select id="roadwidth"></select>&nbsp;
        墙宽: <select id="wallwidth"></select>&nbsp;
        行者宽: <select id="personwidth"></select>&nbsp;
        <input type="button" value="生成迷宫" onClick="createMg()">
        <p></p>
        <div id="datas"></div>
    </center>
</body>
<script src="maze.js"></script>
<script>
    var rowsel = document.getElementById("rowselect");
    var colsel = document.getElementById("colselect");
    for (var i = 5; i <= 50; i++) {
        var o = document.createElement("option");
        o.value = i;
        o.text = i;
        o1 = document.createElement("option");
        o1.value = i;
        o1.text = i;

        rowsel.options.add(o);
        colsel.options.add(o1);

    }
    changerow(rowsel);
    function changerow(obj) {
        var strow = document.getElementById("startrow");
        var enrow = document.getElementById("endrow");
        for (var i = strow.options.length - 1; i >= 0 ; i--) {
            strow.options.remove(i);
            enrow.options.remove(i);
        }
        for (var i = 1; i <= obj.value; i++) {
            var o = document.createElement("option");
            o.value = i;
            o.text = i;
            o1 = document.createElement("option");
            o1.value = i;
            o1.text = i;
            strow.options.add(o);
            enrow.options.add(o1);
        }
        enrow.selectedIndex = obj.value - 1;
    }

    changecol(colsel);
    function changecol(obj) {
        var strow = document.getElementById("startcol");
        var enrow = document.getElementById("endcol");
        for (var i = strow.options.length - 1; i >= 0 ; i--) {
            strow.options.remove(i);
            enrow.options.remove(i);
        }
        for (var i = 1; i <= obj.value; i++) {
            var o = document.createElement("option");
            o.value = i;
            o.text = i;
            o1 = document.createElement("option");
            o1.value = i;
            o1.text = i;
            strow.options.add(o);
            enrow.options.add(o1);
        }
        enrow.selectedIndex = obj.value - 1;
    }

    //初始化道路宽度
    var sroad = document.getElementById("roadwidth");
    for (var i = 10; i <= 20;) {
        var o = document.createElement("option");
        o.value = i;
        o.text = i;
        i += 2;
        sroad.options.add(o);
    }
    //初始化墙壁宽度
    var swall = document.getElementById("wallwidth");
    for (var i = 1; i <= 5; i++) {
        var o = document.createElement("option");
        o.value = i;
        o.text = i;
        swall.options.add(o);
    }
    //初始化行者宽度
    var sperson = document.getElementById("personwidth");
    for (var i = 5; i <= 10; i++) {
        var o = document.createElement("option");
        o.value = i;
        o.text = i;
        sperson.options.add(o);
    }

    function createMg() {
        var o = document.getElementById("migong");
        var oc = document.getElementsByTagName("center")[0];
        if (o) oc.removeChild(o);
        var o = document.getElementById("migperson");
        if (o) document.body.removeChild(o);


        var strow = document.getElementById("startrow");
        var stacol = document.getElementById("startcol");
        var enrow = document.getElementById("endrow");
        var encol = document.getElementById("endcol");
        var rowsel = document.getElementById("rowselect");
        var colsel = document.getElementById("colselect");
        var migong = new MiGong(parseInt(rowsel.value), parseInt(colsel.value),
        parseInt(strow.value), parseInt(stacol.value), parseInt(enrow.value), parseInt(encol.value), parseInt(document.getElementById("roadwidth").value),
        parseInt(document.getElementById("wallwidth").value), parseInt(document.getElementById("personwidth").value));

        //var tmp = new Maze(12, 13, { x: 2, y: 6 }, { x: 9, y: 11 });
        cellToCooder(parseInt(rowsel.value), parseInt(colsel.value), parseInt(stacol.value), parseInt(strow.value), parseInt(encol.value), parseInt(enrow.value));
    }

</script>

</html>